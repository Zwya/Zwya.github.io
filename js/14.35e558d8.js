"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[14],{6014:function(a,s,t){t.r(s),t.d(s,{default:function(){return p}});t(7658);var e=function(){var a=this,s=a._self._c;return s("div",[s("TypeNav"),s("div",{staticClass:"main"},[s("div",{staticClass:"py-container"},[s("div",{staticClass:"bread"},[a._m(0),s("ul",{staticClass:"fl sui-tag"},[a.searchParams.categoryName?s("li",{staticClass:"with-x"},[a._v(a._s(a.searchParams.categoryName)),s("i",{on:{click:a.removeCategoryName}},[a._v("×")])]):a._e(),a.searchParams.keyword?s("li",{staticClass:"with-x"},[a._v(a._s(a.searchParams.keyword)),s("i",{on:{click:a.removeKeyword}},[a._v("×")])]):a._e(),a.searchParams.trademark?s("li",{staticClass:"with-x"},[a._v(a._s(a.searchParams.trademark.split(":")[1])),s("i",{on:{click:a.removeTrademark}},[a._v("×")])]):a._e(),a._l(a.searchParams.props,(function(t,e){return s("li",{key:e,staticClass:"with-x"},[a._v(" "+a._s(t.split(":")[1])),s("i",{on:{click:function(s){return a.removeProps(e)}}},[a._v("×")])])}))],2)]),s("SearchSelector",{on:{getTrade:a.getTrade,getValue:a.getValue}}),s("div",{staticClass:"details clearfix"},[s("div",{staticClass:"sui-navbar"},[s("div",{staticClass:"navbar-inner filter"},[s("ul",{staticClass:"sui-nav"},[s("li",{class:{active:a.isOne},on:{click:function(s){return a.changeOrder("1")}}},[s("a",[a._v("综合 "),s("i",{directives:[{name:"show",rawName:"v-show",value:a.isOne,expression:"isOne"}],staticClass:"iconfont",class:{"icon-long-arrow-down":a.isDesc,"icon-long-arrow-up":a.isAsc}})])]),s("li",{class:{active:a.isTwo},on:{click:function(s){return a.changeOrder("2")}}},[s("a",[a._v("价格"),s("i",{directives:[{name:"show",rawName:"v-show",value:a.isTwo,expression:"isTwo"}],staticClass:"iconfont",class:{"icon-long-arrow-down":a.isDesc,"icon-long-arrow-up":a.isAsc}})])])])])]),s("div",{staticClass:"goods-list"},[s("ul",{staticClass:"yui3-g"},a._l(a.list.goodsList,(function(t,e){return s("li",{key:t.id,staticClass:"yui3-u-1-5"},[s("div",{staticClass:"list-wrap"},[s("div",{staticClass:"p-img"},[s("a",{attrs:{target:"_blank"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.defaultImg,expression:"good.defaultImg"}],staticStyle:{height:"215px",width:"215px"},attrs:{alt:""},on:{click:function(s){return a.$router.push(`/detail/${t.id}`)}}})])]),s("div",{staticClass:"price"},[s("strong",[s("em",[a._v("¥")]),s("i",[a._v(a._s(t.price)+".00")])])]),s("div",{staticClass:"attr"},[s("a",{attrs:{target:"_blank",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[a._v(a._s(t.title))])]),s("div",{staticClass:"commit"},[s("i",{staticClass:"command"},[a._v("已有"),s("span",[a._v(a._s(t.id))]),a._v("人评价")])]),a._m(1,!0)])])})),0)]),a._v("、 "),s("Pagination",{attrs:{total:a.list.total,pageNo:a.searchParams.pageNo,pageSize:a.searchParams.pageSize,pagerCount:5},on:{paginate:a.paginate}})],1)],1)])],1)},r=[function(){var a=this,s=a._self._c;return s("ul",{staticClass:"fl sui-breadcrumb"},[s("li",[s("a",{attrs:{href:"#"}},[a._v("全部结果")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"operate"},[s("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{target:"_blank"}},[a._v("加入购物车")]),s("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[a._v("收藏")])])}],i=function(){var a=this,s=a._self._c;return s("div",{staticClass:"clearfix selector"},[s("div",{staticClass:"type-wrap logo"},[s("div",{staticClass:"fl key brand"},[a._v("品牌")]),s("div",{staticClass:"value logos"},[s("ul",{staticClass:"logo-list"},a._l(a.list.trademarkList,(function(t,e){return s("li",{key:t.tmId,on:{click:function(s){return a.$emit("getTrade",t.tmId,t.tmName)}}},[a._v(a._s(t.tmName))])})),0)]),a._m(0)]),a._l(a.list.attrsList,(function(t,e){return s("div",{key:t.attrId,staticClass:"type-wrap"},[s("div",{staticClass:"fl key"},[a._v(a._s(t.attrName))]),s("div",{staticClass:"fl value"},[s("ul",{staticClass:"type-list"},a._l(t.attrValueList,(function(e,r){return s("li",{key:r,on:{click:function(s){return a.$emit("getValue",t.attrId,e,t.attrName)}}},[s("a",[a._v(a._s(e))])])})),0)]),s("div",{staticClass:"fl ext"})])}))],2)},c=[function(){var a=this,s=a._self._c;return s("div",{staticClass:"ext"},[s("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[a._v("多选")]),s("a",{attrs:{href:"javascript:void(0);"}},[a._v("更多")])])}],o=t(3822),l={name:"SearchSelector",computed:{...(0,o.rn)("searchAbout",["list"])}},n=l,h=t(1001),d=(0,h.Z)(n,i,c,!1,null,"404cfb40",null),u=d.exports,m={name:"Search",data(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",props:[],trademark:"",order:"1:desc",pageNo:"1",pageSize:3}}},components:{SearchSelector:u},computed:{...(0,o.rn)("searchAbout",["list"]),isOne(){return-1!==this.searchParams.order.indexOf("1")},isTwo(){return-1!==this.searchParams.order.indexOf("2")},isDesc(){return-1!==this.searchParams.order.indexOf("desc")},isAsc(){return-1!==this.searchParams.order.indexOf("asc")}},methods:{getData(){this.$store.dispatch("searchAbout/searchInfo",this.searchParams)},removeCategoryName(){this.searchParams.categoryName=void 0,this.$router.push({name:"search",params:this.$route.params})},removeKeyword(){this.searchParams.keyword=void 0,this.$router.push({name:"search",query:this.$route.query}),this.$bus.$emit("clearKeyword")},getTrade(a,s){this.searchParams.trademark=`${a}:${s}`,console.log(`${a}:${s}`,"getTrade"),this.getData()},removeTrademark(){this.searchParams.trademark=void 0,this.getData()},getValue(a,s,t){let e=`${a}:${s}:${t}`;-1===this.searchParams.props.indexOf(e)&&this.searchParams.props.push(e),this.getData()},removeProps(a){this.searchParams.props.splice(a,1),this.getData()},changeOrder(a){let s=this.searchParams.order.split(":")[0],t=this.searchParams.order.split(":")[1],e="";e=a===s?`${s}:${"desc"===t?"asc":"desc"}`:`${a}:desc`,this.searchParams.order=e,this.getData()},paginate(a){this.searchParams.pageNo=a,this.getData()}},beforeMount(){this.searchParams.category1Id=this.$route.query.Id1,this.searchParams.category2Id=this.$route.query.Id2,this.searchParams.category3Id=this.$route.query.Id3,this.searchParams.categoryName=this.$route.query.transmit,this.searchParams.keyword=this.$route.params.word},mounted(){this.getData()},watch:{$route:{handler(a,s){this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,this.searchParams.category1Id=this.$route.query.Id1,this.searchParams.category2Id=this.$route.query.Id2,this.searchParams.category3Id=this.$route.query.Id3,this.searchParams.categoryName=this.$route.query.transmit,this.searchParams.keyword=this.$route.params.word,this.getData()}}}},v=m,g=(0,h.Z)(v,e,r,!1,null,"5a8f0d48",null),p=g.exports}}]);